<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apostador ‚Äî Cassino Futurista</title>
  <meta name="description" content="Aposte de 0 a 100 ‚Äî gerador de PIX e QR Code para testes" />
  <style>
    :root{--bg1:#0f1222;--bg2:#1b1f3a;--accent:#7c5cff;--accent2:#22ff99;--accent3:#00ccff;--text:#e8eaf2;--muted:#9aa3b2}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;min-height:100%;font-family:Arial,Helvetica,sans-serif;color:var(--text)}
    body{background:linear-gradient(-45deg,var(--bg1),#13162e,var(--bg2),#111827);background-size:400% 400%;animation:bgAnim 18s ease infinite}
    @keyframes bgAnim{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* Layout full width friendly for GitHub Pages */
    .page-wrap{min-height:100vh;display:flex;justify-content:center;padding:12px}
    .container{width:100%;max-width:1100px;margin:0 auto;padding:18px;background:rgba(20,20,40,0.7);border-radius:12px;box-shadow:0 0 20px rgba(124,92,255,0.25);backdrop-filter:blur(8px)}

    header{display:flex;align-items:center;gap:12px;margin-bottom:14px;flex-wrap:wrap;justify-content:center}
    .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:grid;place-items:center;font-weight:900;color:#fff;box-shadow:0 0 12px var(--accent)}
    h1,h2,h3{color:#fff;text-shadow:0 0 10px var(--accent),0 0 20px var(--accent2);animation:pulse 3s infinite alternate;text-align:center}
    @keyframes pulse{from{text-shadow:0 0 6px var(--accent)}to{text-shadow:0 0 24px var(--accent2),0 0 36px var(--accent3)}}

    .card{background:rgba(15,18,34,0.85);border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:14px;margin-bottom:14px;box-shadow:0 0 10px rgba(0,0,0,0.4)}

    label{display:block;margin:6px 0 4px;font-size:14px;color:var(--accent2);font-weight:600}
    input,textarea,select,button{font-family:inherit}
    input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);color:#fff;font-size:14px}

    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    @media(max-width:880px){.grid{grid-template-columns:1fr}}

    .row{display:flex;gap:10px;flex-wrap:wrap}

    .numbers-wrapper{border:1px solid rgba(124,92,255,.35);border-radius:8px;padding:10px;margin-top:6px;overflow:hidden}
    .numbers{display:grid;grid-template-columns:repeat(auto-fit,minmax(44px,1fr));gap:6px}
    .numbers button{padding:8px;font-weight:700;border-radius:6px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);transition:.14s;font-size:13px;cursor:pointer}
    .numbers button:hover{transform:translateY(-2px);box-shadow:0 6px 12px rgba(0,0,0,0.35)}
    .numbers button.active{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#000;box-shadow:0 0 10px rgba(124,92,255,.25)}

    /* Make action buttons full width for better alignment */
    .btn-neon,.btn-neon-green,.btn-neon-blue{display:block;margin:10px auto;width:100%;max-width:none;text-align:center;font-size:16px;font-weight:700;cursor:pointer;padding:12px 14px;border-radius:8px}
    .btn-neon{border:2px solid var(--accent);background:transparent;color:#fff;box-shadow:0 0 10px rgba(124,92,255,.12)}
    .btn-neon:hover{background:var(--accent);box-shadow:0 0 20px var(--accent)}
    .btn-neon-green{border:2px solid var(--accent2);color:#fff;box-shadow:0 0 12px rgba(34,255,153,.12)}
    .btn-neon-green:hover{background:var(--accent2);color:#000}
    .btn-neon-blue{border:2px solid var(--accent3);color:#fff;box-shadow:0 0 12px rgba(0,204,255,.12)}
    .btn-neon-blue:hover{background:var(--accent3);color:#000}

    .top-marquee{overflow:hidden;padding:6px 10px;margin-bottom:12px;background:linear-gradient(90deg,rgba(124,92,255,.15),rgba(34,197,94,.08));border-radius:6px}
    .marquee-inner{display:inline-block;white-space:nowrap;padding-left:100%;animation:marquee 14s linear infinite;font-weight:800;color:#fff}
    @keyframes marquee{0%{transform:translateX(0%)}100%{transform:translateX(-100%)}}

    footer{text-align:center;font-size:12px;color:var(--muted);margin-top:14px}

    /* Chat assistant compact */
    .chat-toggle{position:fixed;right:18px;bottom:16px;z-index:9999;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:999px;padding:12px 14px;border:0;color:#fff;box-shadow:0 0 16px var(--accent);font-weight:800;cursor:pointer}
    .chat-box{position:fixed;right:18px;bottom:76px;width:340px;max-width:95%;height:60vh;background:rgba(20,20,40,.95);border-radius:12px;border:1px solid rgba(255,255,255,.06);box-shadow:0 4px 30px rgba(0,0,0,.6);display:none;flex-direction:column;overflow:hidden;z-index:9998}
    .chat-header{padding:10px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#000;font-weight:800;display:flex;justify-content:space-between;align-items:center}
    .chat-messages{flex:1;padding:10px;overflow:auto;display:flex;flex-direction:column;gap:6px}
    .msg{max-width:85%;padding:8px 10px;border-radius:8px;font-size:14px;line-height:1.4}
    .msg.user{align-self:flex-end;background:linear-gradient(90deg,var(--accent3),var(--accent2));color:#000}
    .msg.bot{align-self:flex-start;background:linear-gradient(90deg,#222,var(--accent));color:#fff;font-weight:500}
    .chat-input{display:flex;padding:8px;gap:6px;border-top:1px solid rgba(255,255,255,.06)}
    .chat-input input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,.06)}

    @media(max-width:480px){.numbers{grid-template-columns:repeat(auto-fit,minmax(36px,1fr))}}
  </style>
</head>
<body>
<div class="page-wrap">
  <main class="container">
    <div class="top-marquee"><div class="marquee-inner">üé∞ Sorteio todo s√°bado √†s 11h ‚Äî Pr√™mio: R$200 ‚Äî Aposta: R$2</div></div>

    <header>
      <div class="logo">A</div>
      <h1>Apostador ‚Äî Cassino Futurista</h1>
    </header>

    <section class="grid">
      <section class="card">
        <h2>Monte sua aposta</h2>
        <form id="betForm">
          <div class="row">
            <div style="flex:1">
              <label>üë§ Nome completo</label>
              <input name="nome" required placeholder="Ex.: Ana Silva" />
            </div>
            <div style="flex:1">
              <label>üì± WhatsApp</label>
              <input name="telefone" placeholder="(00) 90000-0000" />
            </div>
          </div>

          <label style="margin-top:8px">üî¢ Escolha at√© 4 n√∫meros (0 a 100)</label>
          <div class="numbers-wrapper">
            <div class="numbers" id="numbers"></div>
          </div>
          <input type="hidden" id="numeros" name="numeros" />

          <div style="text-align:center;margin:14px 0">
            <h3 style="color:var(--accent2);animation:pulse 2s infinite">üí∞ Acerte 4 n√∫meros e leve R$200!</h3>
            <p style="font-size:13px;color:var(--muted)">Valor fixo da aposta: R$2</p>
          </div>

          <button type="button" class="btn-neon-green" id="btnGerarPix">‚ö° Gerar PIX (R$2)</button>
          <button type="submit" class="btn-neon">üöÄ Enviar aposta</button>
        </form>
      </section>

      <aside class="card">
        <h3>Pagamento PIX</h3>
        <p>Use "Gerar PIX" para criar QR Code e c√≥digo copia-e-cola.</p>
        <div id="qrcode" style="min-height:160px;text-align:center"></div>
        <textarea id="pixCode" rows="3" readonly style="margin-top:8px"></textarea>
        <button class="btn-neon-blue" id="btnCopiar">üìã Copiar PIX</button>
      </aside>
    </section>

    <section class="card">
      <h2>üé≤ Detalhes do Jogo</h2>
      <p>‚ú® Transforme <strong>R$2</strong> em <strong>R$200</strong> com sorte! ‚ú®</p>
      <p id="probabilityText"></p>
      <p id="expectationText"></p>
      <ul>
        <li>üéØ Suas escolhas, sua sorte! Cada n√∫mero pode mudar tudo.</li>
        <li>üí∏ De R$2 para R$200! Transforme pouco em muito.</li>
        <li>üçÄ Aposte no imposs√≠vel: √†s vezes a sorte sorri quando menos se espera.</li>
        <li>üöÄ Uma chance, um clique, um pr√™mio!</li>
        <li>üîÆ Sorte n√£o se explica, se sente.</li>
      </ul>
      <!-- Exemplo removido conforme solicitado -->
    </section>

    <footer>¬© <span id="year"></span> Apostador Futurista ‚Ä¢ Uso educacional</footer>
  </main>
</div>

<button class="chat-toggle" id="chatToggle">ü§ñ Assistente</button>
<div class="chat-box" id="chatBox">
  <div class="chat-header">Assistente <button id="closeChat" style="background:none;border:0;color:#000;cursor:pointer">‚úñ</button></div>
  <div class="chat-messages" id="chatMessages">
    <div class="msg bot">üëã Ol√° jogador! Pergunte: "Como funciona?", "Minhas chances?", "Como pagar?"</div>
  </div>
  <div class="chat-input">
    <input id="chatInput" placeholder="Digite aqui..." />
    <button id="chatSend" class="btn-neon">Enviar</button>
  </div>
</div>

<!-- QRCode.js (minified portion included earlier) -->
<script>
/*! QRCode.js minimal use (only QR generation function is used below) - kept inline for GitHub Pages simplicity */
!function(o){function l(o){this.mode=1,this.data=o}function h(o,l){this.typeNumber=0,this.errorCorrectLevel=o,this.modules=null,this.moduleCount=0,this.dataList=[],l&&(this.makeImpl=l)}o.QRCode=h}(this);
</script>

<script>
// --- Populate numbers 0..100 (inclusive) and handle selection (max 4) ---
const numbersEl = document.getElementById('numbers');
const hidden = document.getElementById('numeros');
const MAX_SELECTION = 4;

for (let i = 0; i <= 100; i++) {
  const b = document.createElement('button');
  b.type = 'button';
  b.textContent = i.toString().padStart(2, '0');
  b.dataset.value = b.textContent;
  numbersEl.appendChild(b);
}

function updateHidden() {
  const vals = [...numbersEl.querySelectorAll('button.active')].map(b => b.dataset.value);
  hidden.value = vals.join(',');
  // update calculated probability and expectation
  updateStats(vals.length);
}

numbersEl.addEventListener('click', e => {
  const b = e.target.closest('button');
  if (!b) return;
  const active = numbersEl.querySelectorAll('button.active').length;
  if (!b.classList.contains('active') && active >= MAX_SELECTION) {
    // prevent selecting more than MAX_SELECTION
    alert('Voc√™ pode escolher no m√°ximo ' + MAX_SELECTION + ' n√∫meros.');
    return;
  }
  b.classList.toggle('active');
  updateHidden();
});

// --- PIX generation (demo payload + QR using a simple text payload) ---
const btnGerarPix = document.getElementById('btnGerarPix');
const qrcodeEl = document.getElementById('qrcode');
const pixCodeEl = document.getElementById('pixCode');
const btnCopiar = document.getElementById('btnCopiar');

function generatePixPayload({chave='00000000-0000-0000-0000-000000000000',valor='2.00',descricao='Aposta R$2'}){
  // For demo purposes we create a simple human readable payload. Replace with real EMV Pix payload generator if needed.
  return `PIX|chave:${chave}|valor:${valor}|desc:${descricao}`;
}

function renderQRCode(text){
  // Clear previous
  qrcodeEl.innerHTML = '';
  // Use a simple canvas-based QR generator if QRCode lib were complete. For now create a fallback box.
  const pre = document.createElement('pre');
  pre.style.whiteSpace='pre-wrap';
  pre.style.textAlign='center';
  pre.style.padding='16px';
  pre.style.border='1px dashed rgba(255,255,255,0.06)';
  pre.style.borderRadius='8px';
  pre.textContent = text;
  qrcodeEl.appendChild(pre);
}

btnGerarPix.addEventListener('click', ()=>{
  const selected = hidden.value || '';
  if (!selected) {
    if(!confirm('Voc√™ n√£o selecionou n√∫meros. Deseja continuar e gerar PIX mesmo assim?')) return;
  }
  const chave = '00000000-0000-0000-0000-000000000000';
  const payload = generatePixPayload({chave, valor:'2.00', descricao:`Aposta: ${selected || 'sem n√∫meros'}`});
  pixCodeEl.value = payload;
  renderQRCode(payload);
});

btnCopiar.addEventListener('click', ()=>{
  const text = pixCodeEl.value;
  if (!text) { alert('N√£o h√° c√≥digo PIX para copiar. Gere um PIX primeiro.'); return; }
  navigator.clipboard.writeText(text).then(()=>{
    alert('C√≥digo PIX copiado para a √°rea de transfer√™ncia.');
  },()=>{ alert('Falha ao copiar. Selecione o texto manualmente.'); });
});

// --- Form submit handler (demo behavior) ---
const betForm = document.getElementById('betForm');
betForm.addEventListener('submit', e=>{
  e.preventDefault();
  const data = new FormData(betForm);
  const payload = Object.fromEntries(data.entries());
  if (!payload.numeros) { if(!confirm('Nenhum n√∫mero selecionado. Enviar a aposta?')) return; }
  // For demo, just show the data ‚Äî wire up to backend or GitHub Actions as needed
  alert('Aposta enviada (demo):\n' + JSON.stringify(payload, null, 2));
});

// --- Stats: probability and expectation (simple combinatorics) ---
function nCr(n,r){ if(r>n) return 0; if(r===0) return 1; let num=1, den=1; for(let i=1;i<=r;i++){ num *= (n - (r - i)); den *= i; } return num/den; }

function updateStats(k){
  const totalComb = nCr(101,4); // choosing 4 from 0..100 inclusive
  const prob = (k===4) ? (1/totalComb) : '‚Äî';
  const probText = (typeof prob === 'number') ? `Probabilidade de uma combina√ß√£o exata: 1 em ${Math.round(1/prob).toLocaleString()}` : 'Selecione 4 n√∫meros para ver a probabilidade exata.';
  document.getElementById('probabilityText').textContent = probText;
  const expectation = `Pagamento por acerto: R$200 ‚Äî Custo R$2.`;
  document.getElementById('expectationText').textContent = expectation;
}

// Initialize stats
updateStats(0);

// Footer year
document.getElementById('year').textContent = new Date().getFullYear();

// Chat toggle
const chatToggle = document.getElementById('chatToggle');
const chatBox = document.getElementById('chatBox');
const closeChat = document.getElementById('closeChat');
chatToggle.addEventListener('click', ()=>chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex');
closeChat.addEventListener('click', ()=>chatBox.style.display = 'none');
</script>
</body>
</html>
