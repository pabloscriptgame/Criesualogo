<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apostador ‚Äî Cassino Futurista</title>
  <style>
    :root{
      --bg1:#0f1222; --bg2:#1b1f3a; --accent:#7c5cff; --accent2:#22ff99; --accent3:#00ccff;
      --text:#e8eaf2; --muted:#9aa3b2;
    }
    *{box-sizing:border-box}
    body{margin:0;padding:0;min-height:100%;font-family:Arial,Helvetica,sans-serif;color:var(--text);
      background:linear-gradient(-45deg,var(--bg1),#13162e,var(--bg2),#111827);background-size:400% 400%;
      animation:bgAnim 18s ease infinite}
    @keyframes bgAnim{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .page-wrap{min-height:100vh;display:flex;justify-content:center;padding:18px}
    .container{width:100%;max-width:1100px;margin:0 auto;padding:20px;background:rgba(12,14,28,0.7);
      border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.6);backdrop-filter: blur(6px)}
    header{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap;justify-content:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));
      display:grid;place-items:center;font-weight:900;color:#000;box-shadow:0 6px 18px rgba(124,92,255,0.22);font-size:24px}
    h1,h2,h3{color:#fff;text-align:center;margin:0}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media(max-width:880px){.grid{grid-template-columns:1fr}}
    .card{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);
      border-radius:10px;padding:14px;margin-bottom:14px;box-shadow:0 6px 20px rgba(0,0,0,0.5)}
    label{display:block;margin:6px 0 4px;font-size:14px;color:var(--accent2);font-weight:600}
    input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.06);
      background:rgba(255,255,255,.02);color:#fff;font-size:14px}
    .numbers{display:grid;grid-template-columns:repeat(auto-fit,minmax(44px,1fr));gap:8px}
    .numbers button{padding:10px;font-weight:800;border-radius:8px;background:transparent;
      border:1px solid rgba(255,255,255,.06);color:var(--text);cursor:pointer;font-size:13px}
    .numbers button:hover{transform:translateY(-3px);box-shadow:0 12px 24px rgba(0,0,0,0.5)}
    .numbers button.active{background:transparent;border:2px solid var(--accent);color:#fff;
      box-shadow:0 6px 18px rgba(124,92,255,0.18)}
    .btn{padding:12px 14px;border-radius:8px;font-weight:800;cursor:pointer;border:0}
    .btn-neon{background:transparent;border:2px solid var(--accent);color:#fff}
    .btn-neon:hover{background:var(--accent);color:#000}
    .btn-green{background:transparent;border:2px solid var(--accent2);color:#fff}
    .btn-green:hover{background:var(--accent2);color:#000}
    .btn-blue{background:transparent;border:2px solid var(--accent3);color:#fff}
    .btn-blue:hover{background:var(--accent3);color:#000}
    .muted{color:var(--muted);font-size:13px}
    footer{text-align:center;font-size:12px;color:var(--muted);margin-top:12px}
  </style>
</head>
<body>
  <div class="page-wrap">
    <main class="container">
      <header>
        <div class="logo">A</div>
        <h1>Apostador ‚Äî Cassino Futurista</h1>
      </header>

      <section class="grid">
        <section class="card">
          <h2>Monte sua aposta</h2>
          <form id="betForm">
            <label>üë§ Nome completo</label>
            <input name="nome" id="nome" required />
            <label>üì± WhatsApp</label>
            <input name="telefone" id="telefone" />
            <label style="margin-top:12px">üî¢ Escolha at√© 4 n√∫meros</label>
            <div class="numbers" id="numbers"></div>
            <input type="hidden" id="numeros" name="numeros" />
            <div style="margin-top:14px;text-align:center">
              <button type="button" id="btnGerarPix" class="btn btn-green">‚ö° Gerar PIX</button>
              <button type="submit" class="btn btn-neon">üöÄ Enviar aposta</button>
              <button type="button" id="btnDownloadPdf" class="btn btn-blue" style="display:none">‚¨áÔ∏è Baixar PDF</button>
            </div>
          </form>
        </section>

        <aside class="card">
          <h3>Pagamento PIX</h3>
          <div id="qrcode" style="margin:auto;text-align:center"></div>
          <textarea id="pixCode" rows="3" readonly></textarea>
          <button id="btnCopiar" class="btn btn-neon" style="margin-top:8px">üìã Copiar PIX</button>
        </aside>
      </section>

      <footer>¬© <span id="year"></span> Apostador Futurista</footer>
    </main>
  </div>

  <!-- libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <script>
    const PIX_KEY = '11778657699';
    const WHATSAPP_NUMBER = '5534998110946';
    const BET_VALUE = '2.00';
    const MAX_SELECTION = 4;

    const numbersEl = document.getElementById('numbers');
    const hidden = document.getElementById('numeros');

    // Criar bot√µes 0-100
    for (let i=0;i<=100;i++){
      const b=document.createElement('button');
      b.type='button'; b.textContent=i.toString().padStart(2,'0');
      b.dataset.value=i; numbersEl.appendChild(b);
    }

    numbersEl.addEventListener('click',e=>{
      const b=e.target.closest('button'); if(!b) return;
      const active=numbersEl.querySelectorAll('.active').length;
      if(!b.classList.contains('active')&&active>=MAX_SELECTION){alert('M√°x '+MAX_SELECTION+' n√∫meros');return;}
      b.classList.toggle('active');
      hidden.value=[...numbersEl.querySelectorAll('.active')].map(x=>x.dataset.value).join(',');
    });

    // Gerador Pix EMV
    function emvPix({chave,valor,descricao,txid}){
      function f(id,v){const len=(v.length).toString().padStart(2,'0');return id+len+v}
      let gui='0014br.gov.bcb.pix';
      let key=f('01',chave);
      let desc=descricao?f('02',descricao):'';
      let add=f('26',gui+key+desc);
      let val=valor?f('54',valor):'';
      let base='000201'+add+f('52','0000')+f('53','986')+val+f('58','BR')+f('59','APOSTADOR')+f('60','BR')+'6304';
      return base+crc16(base).toUpperCase();
    }
    function crc16(str){let crc=0xFFFF;for(let i=0;i<str.length;i++){crc^=str.charCodeAt(i)<<8;for(let j=0;j<8;j++){crc=(crc&0x8000)?(crc<<1)^0x1021:crc<<1;crc&=0xFFFF;}}return crc.toString(16).padStart(4,'0');}

    const btnGerarPix=document.getElementById('btnGerarPix');
    const qrcodeEl=document.getElementById('qrcode');
    const pixCodeEl=document.getElementById('pixCode');
    btnGerarPix.addEventListener('click',()=>{
      const selected=hidden.value||'';
      const payload=emvPix({chave:PIX_KEY,valor:BET_VALUE,descricao:'Aposta '+selected,txid:'APOSTA'});
      pixCodeEl.value=payload;
      qrcodeEl.innerHTML='';
      new QRCode(qrcodeEl,{text:payload,width:200,height:200});
    });

    document.getElementById('btnCopiar').addEventListener('click',()=>{
      if(!pixCodeEl.value){alert('Gere o PIX primeiro');return;}
      navigator.clipboard.writeText(pixCodeEl.value);
      alert('PIX copiado');
    });

    // PDF Neon
    async function generatePdf(data){
      const {jsPDF}=window.jspdf;const doc=new jsPDF({unit:'pt',format:'a4'});
      // Header neon
      doc.setFillColor(20,20,40);doc.rect(0,0,595,80,'F');
      doc.setFontSize(22);doc.setTextColor(124,92,255);
      doc.text('Comprovante de Aposta',297,50,{align:'center'});

      // Info
      doc.setFontSize(12);doc.setTextColor(255,255,255);
      let y=100;
      doc.text(`Nome: ${data.nome}`,40,y); y+=18;
      doc.text(`WhatsApp: ${data.telefone||'‚Äî'}`,40,y); y+=18;
      doc.text(`Data: ${data.date}`,40,y); y+=18;
      doc.text(`Valor: R$${BET_VALUE}`,40,y); y+=18;
      doc.text(`Chave PIX: ${PIX_KEY}`,40,y); y+=30;

      // N√∫meros em caixinhas neon
      doc.setFontSize(14);doc.setTextColor(34,255,153);
      doc.text('N√∫meros escolhidos:',40,y); y+=20;
      const nums=data.numeros.length?data.numeros:['‚Äî'];
      let x=40;let count=0;
      nums.forEach(n=>{
        doc.setDrawColor(124,92,255);doc.setFillColor(30,30,50);
        doc.roundedRect(x,y,40,30,6,6,'FD');
        doc.setTextColor(255,255,255);doc.text(n.toString().padStart(2,'0'),x+20,y+20,{align:'center'});
        x+=50;count++;if(count%8===0){x=40;y+=40;}
      });

      // Rodap√©
      y+=60;doc.setFontSize(10);doc.setTextColor(180,180,200);
      doc.text('Guarde este comprovante e envie-o junto ao suporte via WhatsApp.',40,y);

      return doc;
    }

    const betForm=document.getElementById('betForm');
    const btnDownloadPdf=document.getElementById('btnDownloadPdf');
    betForm.addEventListener('submit',async e=>{
      e.preventDefault();
      const nome=document.getElementById('nome').value;
      const telefone=document.getElementById('telefone').value;
      const numeros=hidden.value?hidden.value.split(','):[];
      const now=new Date().toLocaleString('pt-BR');
      const pdf=await generatePdf({nome,telefone,numeros,date:now});
      const blob=pdf.output('blob');const url=URL.createObjectURL(blob);
      btnDownloadPdf.style.display='inline-block';
      btnDownloadPdf.onclick=()=>{const a=document.createElement('a');a.href=url;a.download='comprovante.pdf';a.click();}
      const msg=`Nome: ${nome}\nWhatsApp: ${telefone}\nN√∫meros: ${numeros.join(', ')||'‚Äî'}\nValor: R$${BET_VALUE}\nPIX: ${PIX_KEY}\nData: ${now}`;
      window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`,'_blank');
      alert('PDF gerado. Clique em Baixar PDF e envie no WhatsApp que abriu.');
    });

    document.getElementById('year').textContent=new Date().getFullYear();
  </script>
</body>
</html>

